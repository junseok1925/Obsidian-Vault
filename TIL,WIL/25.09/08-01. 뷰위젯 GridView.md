

-  사진첩 같은 그리드 뷰


### SliverGridDelegateWithFixedCrossAxisCount

- 한 줄에 칸을 몇 개를 둘지 고정해서 지정하는 방식
- 어떤 화면 비율이든 **한 줄에 3개씩** 들어감.
- **반응형 디자인이 필요 없고, 항상 같은 개수로 보이고 싶을 때 적합**

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,
      home: Scaffold(
        body: GridView(
          gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(
            crossAxisCount: 5, //한 줄에 칸의 갯수
            mainAxisSpacing: 2, // 칸 경계의 가로 줄 padding
            crossAxisSpacing: 2, // 칸 경계의 세로 줄 padding
          ),
          children: List.generate(
            100,
            (index) => Center(
              child: Container(
                color: Colors.grey,
                child: Center(child: Text(index.toString())),
              ),
            ),
          ),
        ),
      ),
    );
  }
}

```


--- 
### SliverGridDelegateWithMaxCrossAxisExtent

- 각 칸의 아이템 최대 너비를 지정해서 배치하는 방식
- `maxCrossAxisExtent` 로 각 아이템 칸의 최대 너비를 정함
- 화면 크기에 따라 자동으로 몇 칸이 들어갈지 계산됨
- 큰 화면에서 -> 더 많은 칸, 작은 화면에서 -> 더 적은 칸
- **반응형 레이아웃에 적합 함**

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,
      home: Scaffold(
        body: GridView(
          gridDelegate: const SliverGridDelegateWithMaxCrossAxisExtent(
            maxCrossAxisExtent: 300,
            mainAxisSpacing: 2,
            crossAxisSpacing: 2,
          ),
          children: List.generate(
            100,
            (index) => Center(
              child: Container(
                color: Colors.grey,
                child: Center(child: Text(index.toString())),
              ),
            ),
          ),
        ),
      ),
    );
  }
}

```


---

### scrollDirection, reverse



- 편의 상 `SliverGridDelegateWithFixedCrossAxisCount` 예제로 함

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,
      home: Scaffold(
        body: GridView(
          scrollDirection: Axis.horizontal, //스크롤을 가로로 이동
		  reverse: true, // 아이템 반대로 표시
          gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(
            crossAxisCount: 3,
            mainAxisSpacing: 5,
            crossAxisSpacing: 5,
          ),
          children: List.generate(
            100,
            (index) => Center(
              child: Container(
                color: Colors.grey,
                child: Center(child: Text(index.toString())),
              ),
            ),
          ),
        ),
      ),
    );
  }
}
```


- `scrollDirection: Axis.horizontal` : 스크롤을 가로로 이동
- `reverse: true` : 아이템 반대로 표시, 리버 스크롤

---
### Controller



```dart
import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,
      home: Scaffold(body: const SampleWidget()),
    );
  }
}

class SampleWidget extends StatefulWidget {
  const SampleWidget({super.key});


  @override
  State<SampleWidget> createState() => _SampleWidgetState();
}

class _SampleWidgetState extends State<SampleWidget> {
  final _controller = ScrollController(); // 1. ScrollController 컨트롤러 생성

  @override
  void initState() { 
    super.initState();
    _controller.addListener(() { //ininState 함수를 이용해서 이벤트 등록 
      // if 스크롤이 마지막에 도달했을 경우
      if (_controller.position.maxScrollExtent == _controller.offset) {
        showDialog(
          context: context,
          builder: (context) => const CupertinoAlertDialog(
            content: Text('마지막에 도달했습니다.'),
          ),
        );
      }
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: SafeArea(
        child: Column(
          children: [
            ElevatedButton(
                onPressed: () {
                  _controller.jumpTo(800); // 800 스크롤 위치로 이동
                },
                child: const Text('28번째로 이동')),
            Expanded(
              child: GridView(
	            padding: EdgeInsets.all(50), // 생성된 칸과 화면의 padding 주기
                controller: _controller, // 2. 생성된 컨트롤러 그리드뷰에 등록 필수
                gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(
                  crossAxisCount: 3,
                  mainAxisSpacing: 5,
                  crossAxisSpacing: 5,
                ),
                children: List.generate(
                  100,
                  (index) => Center(
                    child: Container(
                      color: Colors.grey,
                      child: Center(child: Text(index.toString())),
                    ),
                  ),
                ),
              ),
            ),
          ],
        ),
      ),
    );
  }
}
```

---

## 정리


반응형으로 제작 : SliverGridDelegateWithMaxCrossAxisExtent
반응형 필요 없고 고정된 칸 갯수 : SliverGridDelegateWithFixedCrossAxisCount

padding, 스크롤에 따른 이벤트 생성 가능