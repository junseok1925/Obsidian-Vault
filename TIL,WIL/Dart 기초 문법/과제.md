
### 1. 점수에 맞는 등급 출력하기

[ 설명 ]
- 제시된 예시 점수에 해당하는 등급을 알맞게 출력하세요!
[ 조건 ]
- 예시 점수 : 84점
- 점수에 따른 등급 기준
    - 90점 ~ 100점 : A등급
    - 80점 ~ 89점 : B등급
    - 80점 이하는 C등급
- 출력 형태 : 이 학생의 점수는 [점수] 이며, 등급은 [등급]입니다!

```dart
void main() {
  int score = 84;

  if (score < 80) {
    print("이 학생의 점수는 $score이며, 등급은 C등급.");
  } else if (score < 90) {
    print("이 학생의 점수는 $score이며, 등급은 B등급.");
  } else if (90 <= score && 100 >= score) {
    print("이 학생의 점수는 $score이며, 등급은 A등급.");
  } else {
    print("이 학생의 점수는 $score이며, 잘못된 점수.");
  }
}
```


![[Pasted image 20250925172107.png]]


----


### 2. 구매자가 장바구니에 담은 상품 목록을 볼 수 있는 기능

[ 설명 ]
구매자의 장바구니에 담겨 있는 물품들의 전체 금액을 계산합니다.
[ 조건 ]
현재 가게에서 판매하고 있는 상품들과 각각의 가격은 다음과 같다.
	티셔츠 : 10000원
	바지 : 8000원
	모자 : 4000원
구매자의 장바구니 품목들이 아래 리스트와 같다면, 물품의 전체 금액을 계산하여 출력하라

`List<String> cart = ["티셔츠", "바지", "모자", "티셔츠", "바지"];`

출력 형태 :
```bash
장바구니에 35000원 어치를 담으셨네요 !
```

### 1차 
```dart
class PriceTag {
  static Map<String, int> price = {'티셔츠': 10000, '바지': 8000, '모자': 4000};
}

void main() {
  List<String> cart = ["티셔츠", "바지", "모자", "티셔츠", "바지"];
  var price = PriceTag.price;

  int totalPrice = 0;

  //   print(price['티셔츠']);

  for (var item in cart) {
    print('cart의 항목 : $item , 해당 항목의 가격 : ${price[item]}');
    totalPrice +=  price[item]; // 오류@@!@!@!@!@!@
    print('총 가격은? : $totalPrice');
  }
}

```

- 가격표(List price)에 static 속성을 주어 공통 데이터로 사용

- `for-in` 반복문으로 장바구니(cart)에 담긴 상품 요소를 하나씩 반복하여 가져옴 
  (출력 : "티셔츠", "바지", "모자", "티셔츠", "바지")

- ` print('해당 항목의 가격 : ${price[i]}');` : `i`는 장바구니(cart)에 담긴 요소이므로 가격표(List price)의 key값에 해당 요소를 넣어 value를 가져옴
  (출력 : 해당 항목의 가격 : 10000...)


**!!!!오류 발생!!!!**

- `totalPrice = totalPrice + price[i];` 이 부분에서 
  `Error: A value of type 'num' can't be assigned to a variable of type 'int'` type에러가 발생 !!!!!!!!!!!!!!!
  번역해보니, `main.dart:17:29: 오류: 'num' 유형의 값을 'int' 유형의 변수에 할당할 수 없습니다.` 라고 함... 뭔 말임;; 나는   `int totalPrice = 0;`  int 타입으로 선언했는디;;

**ChatGPT 사용 부분**
- 오류 메시지를 보내고 해석해보니 
- `num` -> 숫자 타입의 부모 ( `int`, `double` 포함 ) null 아님
- 문제 원인  -> `price[i]` 의 타입이 `int?` (null 가능)
- 그래서 `int` 변수에 바로 못 넣음.

근데 나는 `price[i]` 즉 static으로 선언한 `price`리스트의 value를 `int` 타입으로 선언했는데 왜 `int?`로 인식을 하는가
-> **Dart에서 Map의 `[]` 연산자는 key가 존재하지 않으면 null을 반환**하기 때문에, 컴파일러 입장에서는 `price[i]` 타입을 **`int?`** (null 가능)로 추론한다고 함...

**따라서 Dart의 `null-safety` 로 인해 key값이 이상한 것이 들어와서 value가 null이 되는 상황을 막아야함**

### 2차
```dart
class PriceTag {
  static Map<String, int> price = {'티셔츠': 10000, '바지': 8000, '모자': 4000};
}

void main() {
  List<String> cart = ["티셔츠", "바지", "모자", "티셔츠", "바지"];
  var price = PriceTag.price;

  int totalPrice = 0;

  //   print(price['티셔츠']);

  for (var item in cart) {
    print('cart의 항목 : $item , 해당 항목의 가격 : ${price[item]}');
    totalPrice +=  price[item]!; // 오류@@!@!@!@!@!@
    print('총 가격은? : $totalPrice');
  }
}
```

- `totalPrice +=  price[i]!;` -> 해당 오류 부분에 `!` null이 아님을 강제로 알림
-  하지만, `cart`에 다른 `price`에 없는 Key값이 들어가 있으면 런타임 오류 발생

### 3차

```dart
class PriceTag {
  static Map<String, int> price = {'티셔츠': 10000, '바지': 8000, '모자': 4000};
}

void main() {
  List<String> cart = ["티셔츠", "바지", "모자", "티셔츠", "바지", "이상한것"];
  var price = PriceTag.price;

  int totalPrice = 0;

  for (var item in cart) {
    int itemPrice = price[item] ?? 0; // 병합연산자 Map에 없는 요소면 0 처리
    print('cart의 항목 : $item , 해당 항목의 가격 : ${price[item]}');

    totalPrice += itemPrice;
  }
  print('총 가격은? : $totalPrice');
}


```

- `if()` 조건문을 넣어 처음부터 `null` 인지 확인 후 동작 시킴


### 4차

```dart
class PriceTag {
  static Map<String, int> price = {'티셔츠': 10000, '바지': 8000, '모자': 4000};
}

// cart 리스트와 price Map을 받아 총 가격 계산 함수
int PriceTotal(List<String> cart, Map<String, int> priceMap) {
  // cart, priceMap : 매개변수, cart와 PriceTag.price를 가져옴
  int totalPrice = 0;

  for (var item in cart) {
    int itemPrice = priceMap[item] ?? 0; // Map에 없으면 0 처리
    print('cart의 항목 : $item, 가격 : $itemPrice');
    totalPrice += itemPrice;
  }

  return totalPrice;
}

void main() {
  List<String> cart = ["티셔츠", "바지", "모자", "티셔츠", "바지", "양말"];
  int total = PriceTotal(cart, PriceTag.price);

  print('장바구니에 $total원 어치를 담았다.');
}
```

- 총 계산 부분을 함수와 함


![[Pasted image 20250925172049.png]]

---

## 3. 구매자가 결제해야 될 최종 금액을 확인하는 기능

- 계산된 최종 결제 금액을 계산하여 출력
- 상품 총 가격이 2만원이 넘은 경우 10% 할인 
- 할인 금액 출력 : `할인 금액 : 4000원 '
- 할인이 적용된 경우, 할인 금액이 차감된 최종 금액을 출력하라
- 출력 형태 : `최종 결제 금액은 25000원 입니다!`

```dart
class PriceTag {
  static Map<String, int> price = {'티셔츠': 10000, '바지': 8000, '모자': 4000};
}

// cart 리스트와 price Map을 받아 총 가격 계산 함수
int PriceTotal(List<String> cart, Map<String, int> priceMap) {
  // cart, priceMap : 매개변수, cart와 PriceTag.price를 가져옴

  int totalPrice = 0;
  int finalPrice = 0;

  for (var item in cart) {
    int itemPrice = priceMap[item] ?? 0; // Map에 없으면 0 처리
    //     print('cart의 항목 : $item, 가격 : $itemPrice');
    totalPrice += itemPrice;
  }
  print('장바구니에 $totalPrice원 어치를 담았습니다.');

  if (totalPrice > 20000) {
    int discountPrice = totalPrice ~/ 10;
    print('할인 금액 : $discountPrice원');
    finalPrice = totalPrice - discountPrice;
  }
  return finalPrice; // 1. 최종 finalPrice 리턴
}

void main() {
  List<String> cart = ["티셔츠", "바지", "모자", "티셔츠", "바지", "양말"];
  int total = PriceTotal(cart, PriceTag.price); // 2. 최종 리턴된 총 금액을 total에 저장
  print('최종 결제 금액은 : $total원 입니다.');
}

```