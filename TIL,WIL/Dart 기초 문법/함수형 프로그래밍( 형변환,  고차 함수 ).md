
# 형변환 함수

- 특정 타입의 데이터를 다른 타입의 데이터로 변환하는 함수
- Dart는 런타임 타입 확인을 지원한다.

```dart
void main(){
	Object text = "hi";
	
	//타입 체크
	if(text is String){
		print("text는 문자열임");
	}
	
	//강제 형변환
	String str = text as String;
	//Object -> String 강제 형변환, 만약 text가 문자열이 아닌 다른 타입이면 오류 발생
	print(str.toUpperCase());
	// hi -> HI (대문자 처리)
}
```
- `is` : 해당 타입인지 확인
- `!is` :  해당 타입이 아닌지 확인
- `as` : 타입을 강제로 변환 (안 맞으면 런타임 오류 발생)

### String -> int / double

```dart
void main(){
	String strNum = "123";
	
	int num1 = int.parse(strNum); // String -> int로 변환
	double num2 = double.parse("3.14"); // String -> double
	
	print(num1.runtimeType) // int 
	print(num1.runtimeType) // double 만약 형변환 실패시 null 반환
	print(num1 + 10); // 1230
	print(num2 * 2); //6.28
}
```


### int / double -> String

```dart
void main(){
	int number = 3;
	double py = 3.14159;
	
	String strNum = number.ToString(); // int -> String
	String strPy = py.toStringAsFixed(2); // 소수점 2자리까지 String으로 변환
	
	print(strNum.runtimeType); // String
	print(strPy.runtimeType); // String 형변환 실패시 null 반환
	print(strNum); // "3"
	print(strPy);  // "3.14"
}
```

### 컬렉션 타입 변환


 `toList()`  -> 다른 자료형을 List로 변환

```dart
void main(){
	Set<int>  numSet = {10,20,30}
	List<int> numList = numSet.toList();
	
	print(numList); // [10.20.30]
	print(numList.runtimeType); // List
}
```


`toSet()` -> 다른 자료형을 Set으로 변환

```dart
void main(){
	List<int> numList = [1,1,2,2,3,3];
	Set<int> numSet = numList.toSet();
	
	print(numSet); // {1,2,3}
	print(numSet.runtimeType); // Set
}
```
- `Set`은 중복 불가라서 자동으로 중복값 제거 후 반환



`asMap()` -> List를 Map으로 변환 (인덱스 -> 값)

```dart
void main() {
  List<String> fruits = ["사과", "바나나", "포도"];

  Map<int, String> fruitMap = fruits.asMap();

  print(fruitMap);  // {0: 사과, 1: 바나나, 2: 포도}
  print(fruitMap.runtimeType); // Map<int, String>

  // 특정 값 접근 (index를 key처럼 사용)
  print(fruitMap[1]); // 바나나
}
```

---

# 고차함수

함수를 다루는 함수 ->  함수를 인자로 받거나, 함수를 반환하는 함수를 말한다.
Dart에서는 함수도 일급 객체 이기 때문에 변수에 저장하거나 다른 함수에 전달 할 수 있다.

컬렉션 타입의 데이터에 있는 요소를 처리하거나 변환할 때 사용한다.

## map()

- `map( ( [매개변수] { return [매개변수에 적용할 동작] } ) );` 

```dart

```


- 함수를 인자로 받는 경우
```dart
void main(){
	//고차함수
	void execute(int a, int b, int Function(int,int) operation){
		print("결과 : ${opreation(a,b)}");
	}
	
	//함수 전달
	int add(int x, int y) => x + y;
	int multiply(int x, int y) => x * y;
	
	excute(3, 4, add); // 결과: 7
	excute(3, 4, multiply); // 결과: 12
}
```

-  함수를 반환하는 경우
```dart
void main() {
	Function makeMultiplier(int n){
	return (int x) => x * n; // 함수를 반환
	}
	
	var doubleFn = makeMultiplier(2); // x -> x * 2
	var tripleFn = makeMultiplier(3); // x -> x * 2
	
	print(doubleFn(5)); //10
	print(tripleFn(5)); // 15
	
}
```